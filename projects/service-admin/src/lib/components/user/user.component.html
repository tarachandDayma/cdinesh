<controlpanel-nav>
</controlpanel-nav>
<div class="page-title">
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-12" [translate]="'controlpanel.users.header'">
                DASHBOARD
            </div>
        </div>
    </div>
</div>
<main>
    <div class="controlPanelContainer">
        <div class="row" *ngIf="Mode==''">
            <form (ngSubmit)="searchUser()" style="width: 100%;margin-top: 10px;margin-bottom: -10px;">
                <div class=" col-sm-6 pull-right">

                    <div class="input-group input-group-sm mb-3">
                        <input class="form-control" [(ngModel)]="searchText" name="searchText" type="text" class="form-control" aria-label="Small" aria-describedby="inputGroup-sizing-sm">
                        <div class="input-group-append">
                            <button class="input-group-text" id="inputGroup-sizing-sm" [translate]="'controlpanel.users.search'" type="submit">Search</button>
                        </div>
                    </div>

                </div>
            </form>
            <div class="col-sm-12">
                <div style="overflow: auto;">
                    <app-pagination [datasource]="users" [recordrerpage]="20">
                        <ng-template let-records="records">
                            <div class="table-fixed">
                                <table class="table table-bordered table-sm table-striped table-hover font-12 cd-table " style="width: 1600px;">
                                    <thead>
                                        <tr>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.Action')}}" class="fixed-column" style="width:50px;" *ngIf="canEdit" [translate]="'controlpanel.users.th.Action'">
                                                Edit
                                            </th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.active')}}" [translate]="'controlpanel.users.th.active'">Active</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.website')}}" [translate]="'controlpanel.users.th.website'">website</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.mobileApp')}}" [translate]="'controlpanel.users.th.mobileApp'">mobileApp</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.stockApi')}}" [translate]="'controlpanel.users.th.stockApi'">stockApi</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.holdApi')}}" [translate]="'controlpanel.users.th.holdApi'">holdApi</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.autoMail')}}" [translate]="'controlpanel.users.th.autoMail'">autoMail</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.fullStock')}}" [translate]="'controlpanel.users.th.fullStock'">fullStock</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.deskApp')}}" [translate]="'controlpanel.users.th.deskApp'">deskApp</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.forum')}}" [translate]="'controlpanel.users.th.forum'">forum</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.copyMail')}}" [translate]="'controlpanel.users.th.copyMail'">copyMail</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.exclusive')}}" [translate]="'controlpanel.users.th.exclusive'">exclusive</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.emailSubscribe')}}" [translate]="'controlpanel.users.th.emailSubscribe'">emailSubscribe</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.user')}}" [translate]="'controlpanel.users.th.users'">UserName</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.percentage')}}" [translate]="'controlpanel.users.th.percentage'">Per</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.fname')}}" [translate]="'controlpanel.users.th.fname'">First Name</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.lname')}}" [translate]="'controlpanel.users.th.lname'">Last Name</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.company')}}" [translate]="'controlpanel.users.th.company'">company</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.email')}}" [translate]="'controlpanel.users.th.email'">email</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.country')}}" [translate]="'controlpanel.users.th.country'">country</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.state')}}" [translate]="'controlpanel.users.th.state'">state</th>
                                            <th data-toggle="tooltip" data-placement="top" title="{{translate.instant('controlpanel.users.th.city')}}" [translate]="'controlpanel.users.th.city'">city</th>
                                        </tr>
                                    </thead>
                                    <tbody style="height:200px;">
                                        <tr *ngFor="let item of records ">
                                            <th class="fixed-column" *ngIf="canEdit" style="width: 32px;">
                                                <button class="btn btn-sm btn-primary" (click)="EditUser(item)"><i class="fa fa-edit  mr-2" ></i></button>
                                            </th>
                                            <td align="center" style="text-align: center !important;width: 50px!important;">
                                                <span class="text-success" *ngIf="item.isActive">Y</span>
                                                <span class="text-danger" *ngIf="!item.isActive">N</span>
                                            </td>
                                            <td align="center" style="text-align: center !important;width: 61px!important;">
                                                <span class="text-success" *ngIf="item.allowWebsite">Y</span>
                                                <span class="text-danger" *ngIf="!item.allowWebsite">N</span>
                                            </td>
                                            <td align="center" style="text-align: center !important;width: 58px!important;">
                                                <span class="text-success" *ngIf="item.allowMobileApp">Y</span>
                                                <span class="text-danger" *ngIf="!item.allowMobileApp">N</span>
                                            </td>
                                            <td align="center" style="text-align: center !important;width: 32px!important;">
                                                <span class="text-success" *ngIf="item.allowStockAPI">Y</span>
                                                <span class="text-danger" *ngIf="!item.allowStockAPI">N</span>
                                            </td>
                                            <td align="center" style="text-align: center !important;width: 60px!important;">
                                                <span class="text-success" *ngIf="item.allowHoldAPI">Y</span>
                                                <span class="text-danger" *ngIf="!item.allowHoldAPI">N</span>
                                            </td>
                                            <td align="center" style="text-align: center !important;width: 67px!important;">
                                                <span class="text-success" *ngIf="item.isAutoMail">Y</span>
                                                <span class="text-danger" *ngIf="!item.isAutoMail">N</span>
                                            </td>
                                            <td align="center" style="text-align: center !important;width: 59px!important;">
                                                <span class="text-success" *ngIf="item.isIsFullStock">Y</span>
                                                <span class="text-danger" *ngIf="!item.isIsFullStock">N</span>
                                            </td>
                                            <td align="center" style="text-align: center !important;width: 67px!important;">
                                                <span class="text-success" *ngIf="item.allowDeskApp">Y</span>
                                                <span class="text-danger" *ngIf="!item.allowDeskApp">N</span>
                                            </td>
                                            <td align="center" style="text-align: center !important;width: 67px!important;">
                                                <span class="text-success" *ngIf="item.allowForum">Y</span>
                                                <span class="text-danger" *ngIf="!item.allowForum">N</span>
                                            </td>
                                            <td align="center" style="text-align: center !important;width: 73px!important;">
                                                <span class="text-success" *ngIf="item.sendMailCopytoClient">Y</span>
                                                <span class="text-danger" *ngIf="!item.sendMailCopytoClient">N</span>
                                            </td>
                                            <td align="center" style="text-align: center !important;width: 73px!important;">
                                                <span class="text-success" *ngIf="item.isExclusive">Y</span>
                                                <span class="text-danger" *ngIf="!item.isExclusive">N</span>
                                            </td>
                                            <td align="center" style="text-align: center !important;width: 73px!important;">
                                                <span class="text-success" *ngIf="item.isEmailSubscribe">Y</span>
                                                <span class="text-danger" *ngIf="!item.isEmailSubscribe">N</span>
                                            </td>
                                            <td style="width: 75px!important;">{{item.userName}}</td>
                                            <td style="width: 50px!important;">{{item.userAccountInfo?.percentage}}</td>
                                            <td style="width: 75px!important;">{{item.userBasicInfo?.firstName}}</td>
                                            <td style="width: 75px!important;">{{item.userBasicInfo?.lastName}}</td>
                                            <td style="width: 100px!important;">{{item.companyName}}</td>
                                            <td style="width: 72px!important;">{{item.emailId}}</td>
                                            <td style="width: 60px!important;">{{item.billingCountryName}}</td>
                                            <td style="width: 60px!important;">{{item.billingStateName}}</td>
                                            <td style="width: 60px!important;">{{item.billingCityName}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </ng-template>
                    </app-pagination>

                </div>
            </div>
        </div>
        <div *ngIf="Mode=='Edit' && canEdit">
            <admin-user-detail [item]="item" (savedata)="savedata()" (canceldata)="canceldata()"></admin-user-detail>
        </div>
    </div>
</main>